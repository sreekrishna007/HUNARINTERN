import java.util.Random;
import java.util.Scanner;

public class NumberGuessingGame{
    public static void main(String[] args){
        Scanner sc=new Scanner(System.in);
        Random rand=new Random();
        boolean playAgain=true;
        System.out.println("Welcome to the Medium-Level Number Guessing Game!");
        System.out.println("Try to guess the number between 1-500");
        System.out.println("You have a maximum of 15 attempts per game.\n");

        while(playAgain){
            int targetNumber=rand.nextInt(500)+1;
            int guess=0;
            int attempts=0;
            int maxAttempts=15;
            while(guess!=targetNumber&&attempts<maxAttempts){
                System.out.println("Enter your guess: ");
                if(!sc.nextInt()){
                    System.out.println("Please enter a valid number!");
                    sc.next();
                    continue;
                }
                guess=sc.nextInt();
                attempts++;

                if(guess<1||guess>500){
                    System.out.println("Please enter a number between 1-500.");
                    continue;
                }
                if(guess<targetNumber){
                    System.out.println("Too low! Try again:");
                }
                else if(guess>targetNumber){
                    System.out.println("Too high! Try again:");
                }
                else{
                    int score=(maxAttempts-attempts+1)*10;
                }
                
                System.out.println("Congratulations You Guessed the number "+targetNumber+" correctly.");
                System.out.println("You took "+attempts+" attempts to win.");
                System.out.println("Your score "+score+" points\n");
            }
        }
        if(guess!=targetNumber){
            System.out.println("You have reached the maximum attempts.The number was: "+targetNumber+"\n");
        }
        System.out.println("Do you want to play again? (yes\no):");
        String response=sc.next().trim().toLowerCase();
        playAgain=response.equals("yes")||response.equals("y");
        System.out.println();
    }
    System.out.println("Thanks for playing!");
    sc.close();

}
